@inject RecipeStore Recipes
@inject ShellNavigationManager NavigationManager

<Shell OnNavigated="OnNavigated"
       OnNavigating="OnNavigating"
       FlyoutBackgroundImage="@(new FileImageSource { File = "photo.jpg" })"
       FlyoutBackgroundImageAspect="Aspect.AspectFill"
       FlyoutHeaderBehavior="FlyoutHeaderBehavior.CollapseOnScroll">

    <ChildContent>
        <StyleSheet Resource="app-styles.css" Assembly="GetType().Assembly" />

        <FlyoutItem Route="recipes"
                    Title="Recipes"
                    FlyoutDisplayOptions="FlyoutDisplayOptions.AsMultipleItems">

            <ShellContent Route="my"
                          Title="My Recipes">
                <RecipePage @ref="recipePage" />
            </ShellContent>

        </FlyoutItem>

        <ShellContent Route="about"
                      Title="About">
            <AboutPage />
        </ShellContent>

    </ChildContent>
</Shell>

@code
{
    RecipePage recipePage;

    void OnNavigated(ShellNavigatedEventArgs e)
    {
    }

    void OnNavigating(ShellNavigatingEventArgs e)
    {
    }

    protected override void OnAfterRender(bool firstRender)
    {
        if (firstRender)
        {
            recipePage.GoToRecipePage();
        }
    }
}
