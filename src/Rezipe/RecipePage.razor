@page "/recipes/my"
@inject ShellNavigationManager NavigationManager
@inject RecipeStore Recipes

<ContentPage @ref="recipeContentPage">
    <ScrollView>
        <StackLayout Margin="new Thickness(20)">

            <Label Text="My Recipes"
                    FontSize="40" />

            @foreach (var recipe in Recipes.GetRecipes())
            {
                <RecipeLink Recipe="recipe" OnClick="RecipeClicked" />
            }

        </StackLayout>
    </ScrollView>
</ContentPage>


@code {
    Microsoft.MobileBlazorBindings.Elements.ContentPage recipeContentPage;

    async Task RecipeClicked(Recipe recipe)
    {
        await NavigationManager.NavigateToAsync($"/recipedetails/{recipe.ID}");
    }

    public void GoToRecipePage()
    {
        Xamarin.Forms.Shell.Current.CurrentItem = (Xamarin.Forms.ShellContent)recipeContentPage.NativeControl.Parent;
    }
}
